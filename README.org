#+TITLE: phoenix lang

Statically compiled programming language.

# Example

#+BEGIN_SRC px
print := @(extern: "C", import: "printf") fn (_: !u8, ..)

job := contract {
  run := fn (!self)
}

run_all := fn (queue: []job) {
  for j in 0..queue.size {
    queue[j].run();
  }
}

send_email := struct { email: []u8 }
generate_report := struct { id: i32 }

send_email.run := fn (!self) {
  print("email -> %s\n", self.email);
}

generate_report.run := fn (!self) {
  print("report #%d\n", self.id);
}

main := fn () {
  let tasks: []job = [
    send_email { name: "alice@example.com" } as job,
    generate_report { id: 42 } as job
  ];

  run_all(tasks);
}
SRC
